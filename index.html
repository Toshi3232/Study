<!doctype html>
<html lang="ja">
<head>
  <!-- ===== 基本設定 ===== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VoiceLog Portal</title>
  <meta name="description" content="VoiceLogの入口ページ。スプレッドシートをすぐ開ける、軽量・高速なホーム。">

  <!-- ===== PWA（任意） manifest は無くても動きます。後で置けばOK =====
  <link rel="manifest" href="/Nesta_VoiceLog_Google/manifest.json">
  <meta name="theme-color" content="#0f172a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="/Nesta_VoiceLog_Google/Spled_Picture.png">
  ======================================================================= -->

  <!-- ===== 共有時カード表示（SNS） ===== -->
  <meta property="og:title" content="VoiceLog Portal">
  <meta property="og:description" content="ワンタップでVoiceLogのスプレッドシートへ。">
  <meta property="og:type" content="website">
  <meta name="color-scheme" content="light dark">

  <style>
    :root{
      --bg: #0b1020;
      --bg-soft: #0f172a;
      --fg: #e5e7eb;
      --muted:#9aa4b2;
      --card:#111827;
      --accent:#22d3ee; /* シアン系 */
      --accent-2:#60a5fa; /* ブルー系 */
      --border:#1f2937;
      --shadow: 0 10px 40px rgba(0,0,0,.35);
      --radius: 16px;
    }
    /* Light mode 対応 */
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f8fafc;
        --bg-soft:#ffffff;
        --fg:#0f172a;
        --muted:#64748b;
        --card:#ffffff;
        --border:#e5e7eb;
        --shadow: 0 10px 30px rgba(2,6,23,.08);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.7 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",Arial,sans-serif;
      color:var(--fg);
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(34,211,238,.15), transparent 60%),
        radial-gradient(900px 500px at -10% 20%, rgba(96,165,250,.15), transparent 60%),
        var(--bg);
    }
    a{color:inherit;text-decoration:none}
    button{font:inherit}

    /* ===== ヘッダー ===== */
    .nav{
      position:sticky; top:0; z-index:20;
      backdrop-filter:saturate(180%) blur(8px);
      background:color-mix(in oklab, var(--bg-soft) 80%, transparent);
      border-bottom:1px solid var(--border);
    }
    .nav__inner{
      max-width:1100px; margin:0 auto; padding:12px 20px;
      display:flex; align-items:center; justify-content:space-between;
    }
    .brand{
      display:flex; gap:10px; align-items:center; font-weight:700;
      letter-spacing:.2px;
    }
    .brand__logo{
      width:28px; height:28px; border-radius:8px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 6px 18px rgba(96,165,250,.35);
    }
    .nav__links{display:flex; gap:18px; align-items:center; font-size:14px; color:var(--muted)}
    .nav__btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px; border-radius:10px; border:1px solid var(--border);
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 85%, #fff 15%), var(--card));
    }
    .nav__btn:hover{border-color:color-mix(in oklab, var(--border) 70%, var(--accent) 30%);}

    /* ===== ヒーロー ===== */
    .hero{
      max-width:1100px; margin:40px auto 0; padding:36px 20px 12px;
      display:grid; grid-template-columns:1.2fr 1fr; gap:26px;
    }
    @media (max-width:900px){ .hero{ grid-template-columns:1fr; } }
    .hero__card{
      border:1px solid var(--border); border-radius:var(--radius);
      background: linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, #fff 8%), var(--card));
      box-shadow:var(--shadow); padding:28px;
    }
    .eyebrow{ color:var(--muted); font-size:13px; letter-spacing:.3px; }
    h1{
      margin:.3em 0 .5em; line-height:1.2;
      font-size: clamp(28px, 4.2vw, 42px);
      letter-spacing:.2px;
    }
    .lead{ color:var(--muted); font-size:16px; margin:0 0 22px; }

    .cta{
      display:flex; gap:12px; flex-wrap:wrap;
    }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 16px; border-radius:12px; border:1px solid var(--border);
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 85%, #fff 15%), var(--card));
      transition:transform .06s ease, border-color .2s ease, box-shadow .2s ease;
      cursor:pointer;
    }
    .btn:hover{ transform:translateY(-1px); border-color:color-mix(in oklab, var(--border) 60%, var(--accent) 40%); box-shadow:0 10px 24px rgba(34,211,238,.18); }
    .btn--primary{
      border-color: color-mix(in oklab, var(--border) 50%, var(--accent) 50%);
      background:
        linear-gradient(120deg, color-mix(in oklab, var(--accent) 30%, transparent), transparent 65%),
        linear-gradient(180deg, color-mix(in oklab, var(--card) 85%, #fff 15%), var(--card));
    }
    .btn svg{ width:18px; height:18px; }

    .hero__panel{
      border:1px solid var(--border); border-radius:var(--radius);
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, #fff 8%), var(--card));
      box-shadow:var(--shadow); padding:18px;
    }
    .panel__title{ font-weight:700; margin:6px 0 10px; }
    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      border:1px solid var(--border); border-radius:12px; padding:14px; font-size:13px; overflow:auto;
      background: color-mix(in oklab, var(--card) 90%, #000 10%);
    }
    .muted{color:var(--muted)}

    /* ===== セクション ===== */
    .section{ max-width:1100px; margin:40px auto 0; padding:0 20px 10px; }
    .grid{ display:grid; gap:16px; grid-template-columns: repeat(3, 1fr); }
    @media (max-width:900px){ .grid{ grid-template-columns: 1fr; } }
    .feature{
      border:1px solid var(--border); border-radius:16px; padding:18px;
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, #fff 8%), var(--card));
    }
    .feature__icon{ width:22px; height:22px; margin-right:8px; }
    .feature h3{ margin:.2em 0 .2em; font-size:18px; }
    .feature p{ margin:.2em 0 0; color:var(--muted); font-size:14px; }

    /* ===== FAQ ===== */
    .faq{ border:1px solid var(--border); border-radius:16px; overflow:hidden; }
    .faq__item + .faq__item{ border-top:1px solid var(--border); }
    .faq__q{
      width:100%; text-align:left; background:none; border:0; padding:16px 18px;
      color:var(--fg); cursor:pointer; display:flex; align-items:center; justify-content:space-between;
    }
    .faq__a{ padding:0 18px 16px; color:var(--muted); display:none; }
    .faq__item[open] .faq__a{ display:block; }

    /* ===== フッター ===== */
    .footer{ margin:40px auto 30px; max-width:1100px; padding:0 20px; color:var(--muted); font-size:13px; }
    .footer__row{ display:flex; justify-content:space-between; gap:16px; flex-wrap:wrap; border-top:1px solid var(--border); padding-top:16px; }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size:.95em; padding:.1em .45em; border:1px solid var(--border); border-bottom-width:2px; border-radius:6px;
      background: color-mix(in oklab, var(--card) 92%, #fff 8%);
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--border); border-radius:999px;
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 88%, #fff 12%), var(--card));
      font-size:12px; color:var(--muted);
    }
  </style>
</head>
<body>

  <!-- ===== ナビゲーション ===== -->
  <div class="nav">
    <div class="nav__inner">
      <div class="brand">
        <div class="brand__logo" aria-hidden="true"></div>
        <div>VoiceLog Portal</div>
      </div>
      <div class="nav__links">
        <a href="#features">機能</a>
        <a href="#howto">使い方</a>
        <a href="#faq">FAQ</a>
        <button class="nav__btn" id="toggleTheme" title="テーマ切替（学習用）">テーマ切替</button>
      </div>
    </div>
  </div>

  <!-- ===== ヒーロー ===== -->
  <section class="hero">
    <div class="hero__card">
      <div class="eyebrow">PORTAL</div>
      <h1>ワンタップで <span style="background:linear-gradient(90deg,var(--accent),var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent;">VoiceLog</span> にアクセス</h1>
      <p class="lead">正しいURLをブックマークして、いつでも素早く業務データへ。軽量・高速・シンプルな入口ページです。</p>
      <div class="cta">
        <a class="btn btn--primary" id="openApp">
          <!-- 外部リンクアイコン -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
            <path d="M14 3h7v7"/>
            <path d="M10 14L21 3"/>
            <path d="M21 14v7H3V3h7"/>
          </svg>
          今すぐ開く
        </a>
        <button class="btn" id="copyUrl">
          <!-- コピーアイコン -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
            <rect x="9" y="9" width="13" height="13" rx="2"/>
            <rect x="2" y="2" width="13" height="13" rx="2"/>
          </svg>
          URLをコピー
        </button>
        <button class="btn" id="installHint">
          <!-- スマホアイコン -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
            <rect x="6" y="2" width="12" height="20" rx="2"/>
            <path d="M11 18h2"/>
          </svg>
          ホーム画面に追加（ガイド）
        </button>
      </div>
      <p class="muted" style="margin-top:10px">※ ブックマークやホーム追加は必ずこのポータルを登録してください。</p>
    </div>

    <!-- 学習用：コード/設定パネル（動作を覗ける） -->
    <aside class="hero__panel" aria-labelledby="panelTitle">
      <div class="pill" style="margin-bottom:10px;">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>
        学習用パネル
      </div>
      <div class="panel__title" id="panelTitle">現在のターゲットURL</div>
      <div class="code" id="urlPreview"></div>
      <div class="panel__title" style="margin-top:14px;">ヒント</div>
      <ul class="muted" style="margin:8px 0 0 18px; padding:0;">
        <li>「今すぐ開く」：<span class="kbd">window.location.replace()</span></li>
        <li>「URLコピー」：<span class="kbd">navigator.clipboard.writeText()</span></li>
        <li>「テーマ切替」：ダーク/ライト自動＋手動トグル</li>
      </ul>
    </aside>
  </section>

  <!-- ===== 機能 ===== -->
  <section id="features" class="section">
    <h2 style="margin:0 0 12px;">主な機能</h2>
    <div class="grid">
      <div class="feature">
        <div style="display:flex; align-items:center;">
          <svg class="feature__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 4h18M3 10h18M3 16h18"/></svg>
          <h3>軽量・爆速</h3>
        </div>
        <p>外部ライブラリ無し・1ファイル構成。GitHub Pagesで即デプロイ。</p>
      </div>
      <div class="feature">
        <div style="display:flex; align-items:center;">
          <svg class="feature__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 2v20M2 12h20"/></svg>
          <h3>レスポンシブ</h3>
        </div>
        <p>グリッドと流体タイポで、スマホからデスクトップまで最適表示。</p>
      </div>
      <div class="feature">
        <div style="display:flex; align-items:center;">
          <svg class="feature__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 3l2.4 4.9L20 9l-4 3.9L17 20l-5-2.6L7 20l1-7.1L4 9l5.6-.1L12 3z"/></svg>
          <h3>学びやすい</h3>
        </div>
        <p>主要UIは素のHTML/CSS/JS。コメント豊富で改造しやすい。</p>
      </div>
    </div>
  </section>

  <!-- ===== 使い方 ===== -->
  <section id="howto" class="section">
    <h2 style="margin:0 0 10px;">使い方（3ステップ）</h2>
    <ol class="muted" style="margin:0 0 0 18px;">
      <li><strong>index.html</strong> をGitHubのリポジトリ直下に配置</li>
      <li>GitHub → <span class="kbd">Settings &gt; Pages</span> → <em>Deploy from a branch</em> → <em>main / root</em></li>
      <li>表示されたURLにアクセス（例：<span class="kbd">https://{ユーザー名}.github.io/{リポジトリ}</span>）</li>
    </ol>
  </section>

  <!-- ===== FAQ ===== -->
  <section id="faq" class="section">
    <h2 style="margin:0 0 10px;">FAQ</h2>
    <div class="faq" role="list">
      <details class="faq__item">
        <summary class="faq__q">manifest.json を消しても動くの？</summary>
        <div class="faq__a">はい。通常のWeb表示は HTML/CSS/JS が主体なので問題ありません。ホーム画面アイコン等のPWA機能だけ無効になります。</div>
      </details>
      <details class="faq__item">
        <summary class="faq__q">URLはどこで変える？</summary>
        <div class="faq__a">本ファイル末尾の <span class="kbd">DIFY_URL</span> を差し替えてください。ページ上の「URLをコピー」や「今すぐ開く」に反映されます。</div>
      </details>
      <details class="faq__item">
        <summary class="faq__q">スマホのホーム画面に追加したい</summary>
        <div class="faq__a">右上メニュー（Safariの共有／Chromeのメニュー）から「ホーム画面に追加」。案内は「ホーム画面に追加（ガイド）」ボタンでも表示できます。</div>
      </details>
    </div>
  </section>

  <!-- ===== フッター ===== -->
  <footer class="footer">
    <div class="footer__row">
      <div>© <span id="year"></span> VoiceLog Portal</div>
      <div class="muted">Built with vanilla HTML/CSS/JS · No frameworks</div>
    </div>
  </footer>

  <script>
    // === ここを書き換えればターゲット先を変更できます（学習しやすいよう1か所に集約） ===
    const DIFY_URL = "https://docs.google.com/spreadsheets/d/1U0sdm30P2SIU0MIHF7NkHdcXfNsbBJS9znnRw8A6Tac/edit?gid=1208108470#gid=1208108470";

    // ===== 基本UI動作 =====
    const openApp = document.getElementById('openApp');
    const copyUrl = document.getElementById('copyUrl');
    const installHint = document.getElementById('installHint');
    const urlPreview = document.getElementById('urlPreview');
    const yearEl = document.getElementById('year');

    yearEl.textContent = new Date().getFullYear();
    urlPreview.textContent = DIFY_URL;

    openApp.addEventListener('click', (e) => {
      e.preventDefault();
      // SPA遷移風に履歴を残さない（戻るで戻ってこない）
      window.location.replace(DIFY_URL);
    });

    copyUrl.addEventListener('click', async () => {
      try{
        await navigator.clipboard.writeText(DIFY_URL);
        toast("URLをコピーしました");
      }catch{
        // フォールバック
        const ta = document.createElement('textarea');
        ta.value = DIFY_URL; document.body.appendChild(ta); ta.select();
        document.execCommand('copy'); document.body.removeChild(ta);
        toast("URLをコピーしました（互換モード）");
      }
    });

    installHint.addEventListener('click', () => {
      const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
      const msg = isIOS
        ? "Safariの共有ボタン →『ホーム画面に追加』 を選んでください。"
        : "Chromeのメニュー（⋮）→『ホーム画面に追加』 を選んでください。";
      toast(msg, 3600);
    });

    // ===== テーマ手動切替（学習用） =====
    const toggleThemeBtn = document.getElementById('toggleTheme');
    let forcedTheme = null; // 'light' or 'dark'
    toggleThemeBtn.addEventListener('click', () => {
      forcedTheme = forcedTheme === 'dark' ? 'light' : (forcedTheme === 'light' ? null : 'dark');
      document.documentElement.style.colorScheme = forcedTheme ?? 'normal';
      toast(forcedTheme ? `テーマ固定: ${forcedTheme}` : 'OS設定にフォロー');
    });

    // ===== FAQのsummaryクリック範囲を拡張（アクセシビリティ配慮） =====
    document.querySelectorAll('.faq__item').forEach(d => {
      d.querySelector('summary').addEventListener('click', (e)=>{
        // <details> のデフォルト動作＋軽いトグル演出だけ
      });
    });

    // ===== 簡易トースト =====
    let toastTimer;
    function toast(text, ms=1800){
      clearTimeout(toastTimer);
      let el = document.getElementById('___toast');
      if(!el){
        el = document.createElement('div');
        el.id = '___toast';
        el.style.position = 'fixed';
        el.style.zIndex = '50';
        el.style.bottom = '22px';
        el.style.left = '50%';
        el.style.transform = 'translateX(-50%)';
        el.style.border = '1px solid var(--border)';
        el.style.background = 'color-mix(in oklab, var(--card) 90%, #000 10%)';
        el.style.color = 'var(--fg)';
        el.style.padding = '10px 14px';
        el.style.borderRadius = '12px';
        el.style.boxShadow = 'var(--shadow)';
        el.style.fontSize = '14px';
        document.body.appendChild(el);
      }
      el.textContent = text;
      el.style.opacity = '1';
      toastTimer = setTimeout(()=>{ el.style.opacity = '0'; }, ms);
    }
  </script>
</body>
</html>
